// ----------------------------------------
// LookBook: LESS > Widgets > Gallery
// ----------------------------------------
//
// #Conditional Mixins
// #Whole Gallery
// #Single Gallery Item
// #Image
// #Caption
//
// ----------------------------------------

// ------------------------------
// #Whole Gallery
// ------------------------------

.widget[data-name="gallery"] {
	margin: 0 -3px;
	padding: 5em 0;
    border-top: 3px solid @color__navigation--border;
    border-bottom: 3px solid @color__navigation--border;

    [data-name="row"] & {
    	border: none;
    }
}

.gallery-list {
	position: relative;
	.inline-block-font-hack();
	margin: 0 auto;
	max-width: 1600px;
	
	&:before {
		content: " ";
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		width: 90%;
		max-width: 1400px;
		margin: 0 auto;
		padding: 1em 140px;
		border: solid @color__navigation--border;
		border-width: 0 3px;
		background-color: @color__container--background;

		[data-name="row"] & {
			background-color: transparent;
	    	border: none;
	    }
		
		@media @desktop-wide {
			padding: 1em 10%;
		}

		.responsivecolumns & {
			content: none;
		}
	}
}

// ------------------------------
// #Single Gallery Item
// ------------------------------

.gallery__gallery-item {
	position: relative;
	margin: 0;
	width: 100%/4;
	padding-bottom: 100%/4;
	
	@media @tablet-horizontal {
		width: 100%/3;
		padding-bottom: 100%/3;
	}
	
	@media @mobile {
		width: 100%/2;
		padding-bottom: 100%/2;
	}

	.responsivecolumns & {
		width: 100%/2;
		padding-bottom: 100%/2;
	}
}

.gallery__gallery-item:nth-child(12n+1) {
	z-index: 2;
	margin: 0 -8% 0 3%;
	padding-bottom: 40%;
	width: 30%;
	
	@media @tablet-horizontal {
		margin: 0 -8% 0 3%;
		padding-bottom: 40%;
		width: 30%;
	}
	
	@media @mobile {
		margin: 0 -8% 0 3%;
		padding-bottom: 40%;
		width: 40%;
	}

	.responsivecolumns & {
		margin: 0 -8% 0 3%;
		padding-bottom: 40%;
		width: 40%;
	}
}
.gallery__gallery-item:nth-child(12n+2) {
	margin: 20% -5% 5% 0;
	padding-bottom: 25%;
	width: 25%;
	
	@media @tablet-horizontal {
		margin: 15% -10% 0 -5%;
		padding-bottom: 35%;
		width: 45%;
	}
	
	@media @mobile {
		margin: 15% 0 0 -5%;
		padding-bottom: 50%;
		width: 60%;
	}

	.responsivecolumns & {
		margin: 15% 0 0 -5%;
		padding-bottom: 50%;
		width: 60%;
	}
}
.gallery__gallery-item:nth-child(12n+3) {
	z-index: 2;
	margin: -5% 0 0 20%;
	padding-bottom: 30%;
	width: 25%;
	
	@media @tablet-horizontal {
		margin: 0 0 0 -5%;
		padding-bottom: 30%;
		width: 30%;
	}
	
	@media @mobile {
		z-index: 1;
		margin: 0 -10.5% 0 0.5%;
		padding-bottom: 50%;
		width: 75%;
	}

	.responsivecolumns & {
		z-index: 1;
		margin: 0 -10% 0 0;
		padding-bottom: 50%;
		width: 75%;
	}
}
.gallery__gallery-item:nth-child(12n+4) {
	margin: 10% 2% 0 -38%;
	padding-bottom: 30%;
	width: 45%;
	
	@media @tablet-horizontal {
		margin: 10% -0.5% 0 0.5%;
		padding-bottom: 30%;
		width: 30%;
	}
	
	@media @mobile {
		z-index: 2;
		margin: 20% 0 0 -15.5%;
		padding-bottom: 40%;
		width: 50%;
	}

	.responsivecolumns & {
		z-index: 2;
		margin: 20% 0 0 -15%;
		padding-bottom: 40%;
		width: 50%;
	}
}
.gallery__gallery-item:nth-child(12n+5) {
	margin: 0 -10.5% 0 0.5%;
	padding-bottom: 35%;
	width: 45%;
	
	@media @tablet-horizontal {
		margin: 5% -10% 0 10%;
		padding-bottom: 40%;
		width: 40%;
	}
	
	@media @mobile {
		margin: 0 -8% 0 3%;
		padding-bottom: 45%;
		width: 60%;
	}

	.responsivecolumns & {
		margin: 0 -8% 0 3%;
		padding-bottom: 45%;
		width: 60%;
	}
}
.gallery__gallery-item:nth-child(12n+6) {
	z-index: 2;
	margin: 5% -10% 0 -5%;
	padding-bottom: 25%;
	width: 25%;
	
	@media @tablet-horizontal {
		margin: -20% -10% 0 -0.5%;
		padding-bottom: 45%;
		width: 30%;
	}
	
	@media @mobile {
		z-index: 1;
		margin: 15% 0 0 -20.5%;
		padding-bottom: 60%;
		width: 65%;
	}

	.responsivecolumns & {
		z-index: 1;
		margin: 15% 0 0 -20%;
		padding-bottom: 60%;
		width: 65%;
	}
}
.gallery__gallery-item:nth-child(12n+7) {
	z-index: 2;
	margin: 10% 0 5% 15.1%;
	padding-bottom: 25%;
	width: 25%;
	
	@media @tablet-horizontal {
		margin: -15% 0 0 10%;
		padding-bottom: 45%;
		width: 30%;
	}
	
	@media @mobile {
		z-index: 1;
		margin: -15% -0.5% 0 0.5%;
		padding-bottom: 45%;
		width: 80%;
	}

	.responsivecolumns & {
		z-index: 1;
		margin: -15% 0 0 0;
		padding-bottom: 45%;
		width: 80%;
	}
}
.gallery__gallery-item:nth-child(12n+8) {
	margin: -10% 0 0 -15.5%;
	padding-bottom: 30%;
	width: 30%;
	
	@media @tablet-horizontal {
		margin: 5% 2% 0 3%;
		padding-bottom: 35%;
		width: 45%;
	}
	
	@media @mobile {
		z-index: 3;
		margin: -10% 2% 0 3%;
		padding-bottom: 50%;
		width: 60%;
	}

	.responsivecolumns & {
		z-index: 3;
		margin: -10% 2% 0 3%;
		padding-bottom: 50%;
		width: 60%;
	}
}
.gallery__gallery-item:nth-child(12n+9) {
	margin: 0 -2% 0 3%;
	padding-bottom: 25%;
	width: 25%;
	
	@media @tablet-horizontal {
		margin: -5% -0.5% 0 0.5%;
		padding-bottom: 40%;
		width: 40%;
	}
	
	@media @mobile {
		margin: -20% 0 0 49.5%;
		padding-bottom: 50%;
		width: 50%;
	}

	.responsivecolumns & {
		margin: -20% 0 0 50%;
		padding-bottom: 50%;
		width: 50%;
	}
}
.gallery__gallery-item:nth-child(12n+10) {
	margin: -5% 0 0 -10%;
	padding-bottom: 40%;
	width: 30%;
	
	@media @tablet-horizontal {
		margin: 10% 0 0 -20%;
		padding-bottom: 40%;
		width: 35%;
	}
	
	@media @mobile {
		margin: -20% 0 0 10%;
		padding-bottom: 50%;
		width: 80%;
	}

	.responsivecolumns & {
		margin: -20% 0 0 10%;
		padding-bottom: 50%;
		width: 80%;
	}
}
.gallery__gallery-item:nth-child(12n+11) {
	margin: -5% 0 0 15%;
	padding-bottom: 35%;
	width: 30%;
	
	@media @tablet-horizontal {
		margin: -15% 0 0 -0.5%;
		padding-bottom: 40%;
		width: 45%;
	}
	
	@media @mobile {
		margin: 0 -0.5% 0 0.5%;
		padding-bottom: 45%;
		width: 45%;
	}

	.responsivecolumns & {
		margin: 0 0 0 0;
		padding-bottom: 45%;
		width: 45%;
	}
}
.gallery__gallery-item:nth-child(12n) {
	margin: 10% 0 0 -40%;
	padding-bottom: 30%;
	width: 30%;
	
	@media @tablet-horizontal {
		margin: 25% 0 0 -40%;
		padding-bottom: 40%;
		width: 40%;
	}
	
	@media @mobile {
		margin: 20% 0 0 -15.5%;
		padding-bottom: 50%;
    	width: 70%;
	}

	.responsivecolumns & {
		margin: 20% 0 0 -15%;
		padding-bottom: 50%;
    	width: 70%;
	}
}

// ------------------------------
// #Image
// ------------------------------

.gallery__gallery-item {
	.gallery__figure {
		&:hover {
			& > .gallery__caption {
				opacity: 1;
				background-color: fade(@color__gallery-caption--background, 80%);
			}
		}
	}

	a.gallery__image-link {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-size: cover;
		background-position: center center;
	}

	// Using the background image instead.

	.gallery__image {
		display: none;
	}
}

// ------------------------------
// #Caption
// ------------------------------

.gallery__gallery-item {
	border: 10px solid @color__container--background;
	background-color: @color__body--background;

	@media @mobile {
		border: 6px solid @color__container--background;
	}

	.responsivecolumns & {
		border: 6px solid @color__container--background;
	}
	
	.gallery__caption {
		opacity: 0;
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		overflow: hidden;
		background-color: @color__gallery-caption--background;
		.transition(opacity);

		a.caption-link {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			display: block;
			margin: 1.5em;
			padding: 1em;
			border: 3px solid @color__gallery-title--text;
			overflow: hidden;
			text-align: center;
			font-size: @font__p--font-size;
			background-color: transparent;

			.make-font-a-little-smaller(@font__p--font-size);
			.make-font-smaller(@font__p--font-size);
			.make-font-a-lot-smaller(@font__p--font-size);
	
			.make-line-height-a-little-smaller(@font__p--line-height);
			.make-line-height-smaller(@font__p--line-height);
			.make-line-height-a-lot-smaller(@font__p--line-height);
		}

		// Image Title

		.gallery__image-title {
			padding-bottom: 0.5em;
			font-size: 1.5em;
			color: @color__gallery-title--text;
		}

		.gallery__image-description {
			color: @color__gallery-description--text;
			line-height: 1.3em;
		}
	}
}

// ------------------------------
// #Image and Caption
// ------------------------------

a.gallery__image-link,
.gallery__caption {
	.gallery__gallery-item & {
		height: auto;
		width: auto;
	}
}